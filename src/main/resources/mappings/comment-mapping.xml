<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">


<mapper namespace="comment">

	
	<insert id="writeComment">
		INSERT INTO commentList (pno, id, ccontent, cdatetime)
		VALUES(#{pno}, #{id}, #{ccontent}, sysdate())	
	</insert>
	
	<!-- <select id="commentList" resultType="comment">
		SELECT * FROM commentList
		WHERE pno = #{pno} 
	</select>
	 -->
	 
	<select id="commentList" resultType="comment">
		<![CDATA[
		SELECT A.*
		FROM(
					SELECT @ROWNUM := @ROWNUM + 1 AS ROWNUM, commentlist.* 
					FROM commentlist, (SELECT @ROWNUM := 0) R
					) A
		WHERE pno = #{pno}
		AND A.ROWNUM <= 5;
	    ]]>
	 </select>
	 
	 
	<!-- <update id="updateBoard">
		UPDATE board 
		SET title = #{title}, bcontent = #{bcontent}
		WHERE pno = #{pno}
		
	
	</update>
	
	<select id="getBoard" parameterType = "board" resultType="board">
		SELECT * 
		FROM board
		WHERE pno = #{pno} 
	</select>
	
	<select id="getBoardList" resultType="board">
		SELECT * FROM board
		ORDER BY pno DESC
	</select>
	
	<select id="getMyPost" parameterType = "user" resultType="board">
		SELECT * FROM board
		WHERE id=#{id}
		ORDER BY pno DESC
	</select> -->
</mapper>